<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="description" content="Conectar Restaurant Website">
    <meta property="og:image" content="https://telegra.ph/file/1c46132d4fff0accafde6.jpg">
    <meta property="og:site_name" content="Conectar Restaurant Website">
    <meta property="og:title" content="Conectar Restaurant Website">
    <meta property="og:description" content="Conectar Restaurant Website">
    <title>Conectar Restaurant</title>
    <link rel="stylesheet" href="styles.css">
    <script>
function getCurrentLocation() {
 if (navigator.geolocation) {
 navigator.geolocation.getCurrentPosition(function(position) {
 document.getElementById('latitude').value = position.coords.latitude;
 document.getElementById('longitude').value = position.coords.longitude;
 document.getElementById('location-input').value = "Latitude: " + position.coords.latitude + ", Longitude: " + position.coords.longitude;
 }, function() {
 alert("Unable to retrieve your location.");
 });
 } else {
 alert("Geolocation is not supported by this browser.");
 }
}
        // Function to add items to the cart
        function addToCart(dishName, price) {
            let cartList = document.getElementById('cart-items');
            let itemExists = false;

            // Example for showing the cart sidebar
document.querySelector('.cart-sidebar').classList.add('show');

// Example for showing the order form
document.getElementById('order-form').classList.add('show');


            // Check if item already exists in cart
            for (let item of cartList.children) {
                if (item.dataset.dish === dishName) {
                    let quantityInput = item.querySelector('input');
                    quantityInput.value = parseInt(quantityInput.value) + 1;
                    itemExists = true;
                    break;
                }
            }

            // Add new item to cart
            if (!itemExists) {
                let cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.dataset.dish = dishName;
                cartItem.innerHTML = `
                    <p>${dishName} - ${price} Cedis</p>
                    <input type="number" value="1" min="1" onchange="updateCartTotal()">
                    <button onclick="removeFromCart(this)">Remove</button>
                `;
                cartList.appendChild(cartItem);
            }

            updateCartTotal();
        }

        // Function to remove items from the cart
        function removeFromCart(button) {
            button.parentElement.remove();
            updateCartTotal();
        }

        // Function to update cart total
        function updateCartTotal() {
            let cartList = document.getElementById('cart-items');
            let items = cartList.children;
            let total = 0;
            for (let item of items) {
                let price = parseFloat(item.querySelector('p').textContent.split('-')[1].trim().split(' ')[0]);
                let quantity = parseInt(item.querySelector('input').value);
                total += price * quantity;
            }
            total += 20; // Add delivery fee
            document.getElementById('cart-total').textContent = `Total: ${total} Cedis (including 20 Cedis delivery fee)`;
        }

        // Function to show the order form
        function showOrderForm() {
            document.getElementById('order-form').style.display = 'block';
            populateOrderForm();
        }

        // Function to populate the order form with cart items
        function populateOrderForm() {
            let cartList = document.getElementById('cart-items');
            let items = cartList.children;
            let orderDetails = document.getElementById('order-details');
            orderDetails.innerHTML = ''; // Clear existing details

            for (let item of items) {
                let dishName = item.dataset.dish;
                let quantity = item.querySelector('input').value;
                orderDetails.innerHTML += `<p>${dishName} - Quantity: ${quantity}</p>`;
            }
        }

        function handleFormSubmit(event) {
            event.preventDefault();
            
            let form = document.getElementById('order-form');
            let formData = new FormData(form);

        fetch(form.action, {
    method: form.method,
    body: formData,
    headers: {
      'Accept': 'application/json'
    }
  })
  .then(response => {
    if (response.ok) {
      document.getElementById('popup-message').textContent = `Thank you, ${name}! Your order has been submitted. We will get back to you soon.`;
    }else{
      document.getElementById('popup-message').textContent = `Sorry, ${name}. There was a problem with your order submission. Please try again later.`;
    }
     document.getElementById('popup').style.display = 'block';
    form.reset();
})
.catch(error => { document.getElementById('popup-message').textContent = `An error occurred: ${error.message}`;
    document.getElementById('popup').style.display = 'block';
                });
        }
    </script>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#order">Order</a></li>
                <li><a href="#about">About Us</a></li>
                <li><a href="#contacts">Contacts</a></li>
                <li><a href="mailto:Conectarrestaurants@gmail.com">Email</a></li>
                <li><a href="https://wa.me/233249510633/?text=Hello+Conectar+Restaurant">Whatsapp</a></li>
                <li><a href="https://wa.me/233257789272/?text=Hello+Kwabena+Osei+Nketiah,+I+like+your+website">Developer</a></li>
                <li><a href="https://raw.githubusercontent.com/Hak3rz-secret/fetchdata/main/1">HELP</a></li>
            </ul>
        </nav>
        <div class="logo">
            <img src="images/conectar.jpg" alt="Conectar Restaurant Logo" class="logo-image">
            <h1>Conectar Restaurant</h1>
            <h3>Come for a drink,stay for a meal</h3>
        </div>
    </header>

    <section id="order" class="section">
        <h2>Order Your Food</h2>
        <div class="menu-item">
            <img src="images/friedrice.jpg" alt="Fried Rice" class="menu-image">
            <p>Fried Rice-Delicious Chicken Fried Rice- 50cedis</p>
            <button type="button" onclick="addToCart('Fried Rice', 50)">Add to List</button>
        </div>


        <div class="menu-item">
            <img src="images/jollof.jpg" alt="Jollof" class="menu-image">
            <p>Jollof-Scrumptious Ghana Jollof-50 gh</p>
            <button type="button" onclick="addToCart('Jollof', 50)">Add to List</button>
        </div>

    <div class="menu-item">
            <img src="images/ampesie.jpg" alt="Ampesie" class="menu-image">
            <p>Ampesie-Traditional Plantain and kontomire-50 gh</p>
            <button type="button" onclick="addToCart('Ampesie', 50)">Add to List</button>
    </div>

    <div class="menu-item">
            <img src="images/razs.jpg" alt="Rice and Zongo Stew" class="menu-image">
            <p>Rice and Zongo Stew-Local rice with tasty stew-50 gh</p>
            <button type="button" onclick="addToCart('Rice and Zongo Stew', 50)">Add to List</button>
        </div>

    <div class="menu-item">
            <img src="images/noodles.jpg" alt=" Spicy Noodles" class="menu-image">
            <p>Spicy Noodles-Hot flavoured noodles to spice up your day-50 gh</p>
            <button type="button" onclick="addToCart('Noodles', 50)">Add to List</button>
        </div>

    <div class="menu-item">
            <img src="images/aj.jpg" alt="Assorted Jollof Rice" class="menu-image">
            <p>Assorted Jollof Rice-Scrumptious Ghana Jollof-50 gh</p>
            <button type="button" onclick="addToCart('Assorted Jollof', 50)">Add to List</button>
        </div>

    <div class="menu-item">
            <img src="images/af.jpg" alt="Assorted Fried Rice" class="menu-image">
            <p>Assorted Fried Rice-Exquisite Fried rice-50 gh</p>
            <button type="button" onclick="addToCart('Assorted Fried Rice', 50)">Add to List</button>
    </div>

    <div class="menu-item">
            <img src="images/waakye.jpg" alt="Waakye" class="menu-image">
            <p>Waakye-Popular Delicay-50 gh</p>
            <button type="button" onclick="addToCart('waakye', 50)">Add to List</button>
        </div>
    </section>
    
    <section id="contacts" class="section"> 
        <h2>Contacts</h2> 
        <div class="contact-info"> 
            <p>Contact us on:
            Phone and WhatsApp:0249510633
            Email: Conectarrestaurants@gmail.com
            Developer:0257789272</p> 
        </div> 
        </section>
    
     <section id="about" class="section"> 
        <h2>About Us</h2>
        <div class="about-us"> 
            <p>Conectar Restaurant
            We are located at Kwadaso,Kumasi.
            Website by:Kwabena Osei Nketiah 0257789272</p> 
        </div> 
    </section>

    <!-- Cart Sidebar -->
    <div id="cart" class="cart-sidebar">
        <h2>Cart</h2>
        <div id="cart-items"></div>
        <p id="cart-total">Total: 0 Cedis</p>
        <button onclick="showOrderForm()">Checkout</button>
    </div>

    <!-- Order Form Modal -->
    <div id="order-form" style="display:none;">
        <h2>Order Form</h2>
        <div id="order-details"></div>
            <form action="https://formspree.io/f/xpwadnan" method="post" enctype="multipart/form-data" id="order-details" onsubmit="handleFormSubmit(event)">
            <input type="text" name="name" placeholder="Your Name" required>
            <input type="tel" name="number" placeholder="Your Phone Number" required>
            <input type="text" name="location" placeholder="Your Location" id="location-input" required>
            <input type="hidden" name="latitude" id="latitude">
            <input type="hidden" name="longitude" id="longitude">
            <button type="button" onclick="getCurrentLocation()">Use Your Current Location</button>
            <button type="submit">Place your Order</button>
        </form>
    </div>
</body>
</html>
